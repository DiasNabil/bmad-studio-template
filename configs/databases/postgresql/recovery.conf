# PostgreSQL Recovery Configuration
# BMAD Studio Template - High Availability Setup

# Standby server configuration
standby_mode = on
primary_conninfo = 'host=postgresql-primary port=5432 user=replicator password=REPLICATOR_PASSWORD application_name=standby1'
primary_slot_name = 'standby1_slot'

# Recovery settings
restore_command = '/usr/local/bin/restore_wal.sh %f %p'
archive_cleanup_command = '/usr/local/bin/pg_archivecleanup /var/lib/postgresql/archive %r'

# Promote trigger
trigger_file = '/tmp/postgresql.trigger'

# Connection settings for standby
hot_standby = on
max_standby_archive_delay = 30s
max_standby_streaming_delay = 30s
wal_receiver_status_interval = 10s
hot_standby_feedback = on
wal_receiver_timeout = 60s
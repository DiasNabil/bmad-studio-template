# =============================================================================
# BMAD STUDIO TEMPLATE - ENVIRONMENT VARIABLES
# =============================================================================
# Copy this file to .env and update with your actual values
# 
# SECURITY WARNING: Never commit .env file with real secrets to version control
# Use this .env.example as template and keep sensitive values in your .env file
#
# Version: 2.1.0
# Last Updated: 2025-09-07
# =============================================================================

# =============================================================================
# ENVIRONMENT CONFIGURATION
# =============================================================================

# REQUIRED: Application environment (development, staging, production)
NODE_ENV=production
ENVIRONMENT=production

# REQUIRED: Application name and version
APP_NAME=bmad-studio-template
APP_VERSION=2.1.0

# REQUIRED: Base URL for the application
APP_URL=https://app.bmadstudio.com
API_BASE_URL=https://api.bmadstudio.com

# =============================================================================
# DATABASE CONFIGURATION - PostgreSQL
# =============================================================================

# REQUIRED: PostgreSQL primary database connection
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=bmad_studio_db
POSTGRES_USER=bmad_admin
POSTGRES_PASSWORD=your_secure_postgresql_password_here

# REQUIRED: Database URL (alternative format)
DATABASE_URL=postgresql://bmad_admin:your_password@localhost:5432/bmad_studio_db

# OPTIONAL: Application-specific database users
POSTGRES_APP_PASSWORD=your_app_user_password_here
POSTGRES_READONLY_PASSWORD=your_readonly_password_here
POSTGRES_MONITORING_PASSWORD=your_monitoring_password_here
POSTGRES_REPLICATION_PASSWORD=your_replication_password_here

# OPTIONAL: SSL Configuration
POSTGRES_SSL_MODE=require
POSTGRES_SSL_CERT_PATH=/etc/ssl/certs/postgresql.crt
POSTGRES_SSL_KEY_PATH=/etc/ssl/private/postgresql.key
POSTGRES_SSL_CA_PATH=/etc/ssl/certs/ca.crt

# OPTIONAL: Connection Pool Settings
POSTGRES_MAX_CONNECTIONS=20
POSTGRES_MIN_CONNECTIONS=5
POSTGRES_IDLE_TIMEOUT=30000
POSTGRES_CONNECTION_TIMEOUT=10000

# OPTIONAL: Performance Tuning
POSTGRES_SHARED_BUFFERS=256MB
POSTGRES_EFFECTIVE_CACHE_SIZE=1GB
POSTGRES_MAINTENANCE_WORK_MEM=64MB
POSTGRES_MAX_WAL_SIZE=1GB
POSTGRES_MIN_WAL_SIZE=80MB

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# REQUIRED: Redis connection
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_secure_redis_password_here
REDIS_DB=0

# REQUIRED: Redis URL (alternative format)
REDIS_URL=redis://:your_password@localhost:6379/0

# OPTIONAL: Redis Users (ACL)
REDIS_APP_USER_PASSWORD=your_redis_app_password_here
REDIS_READONLY_PASSWORD=your_redis_readonly_password_here
REDIS_MONITORING_PASSWORD=your_redis_monitoring_password_here
REDIS_CACHE_PASSWORD=your_redis_cache_password_here
REDIS_ADMIN_PASSWORD=your_redis_admin_password_here
REDIS_SENTINEL_PASSWORD=your_redis_sentinel_password_here

# OPTIONAL: Redis Cluster Configuration
REDIS_CLUSTER_PASSWORD=your_redis_cluster_password_here
REDIS_CLUSTER_NODES=redis-node1:6379,redis-node2:6379,redis-node3:6379

# OPTIONAL: Redis TLS Configuration
REDIS_TLS_ENABLED=true
REDIS_TLS_CERT_PATH=/etc/redis/tls/redis.crt
REDIS_TLS_KEY_PATH=/etc/redis/tls/redis.key
REDIS_TLS_CA_PATH=/etc/redis/tls/ca.crt

# OPTIONAL: Redis Performance Settings
REDIS_MAXMEMORY=2gb
REDIS_MAXMEMORY_POLICY=allkeys-lru
REDIS_SAVE_INTERVAL=900 1

# =============================================================================
# AWS CONFIGURATION
# =============================================================================

# REQUIRED: AWS credentials and region
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=AKIAIOSFODNN7EXAMPLE
AWS_SECRET_ACCESS_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYzEXAMPLEKEY

# OPTIONAL: AWS Profile (for local development)
AWS_PROFILE=bmad-studio

# REQUIRED: RDS Configuration
RDS_INSTANCE_IDENTIFIER=bmad-studio-postgresql-primary
RDS_REPLICA_IDENTIFIER=bmad-studio-postgresql-replica
RDS_INSTANCE_CLASS=db.t3.medium
RDS_REPLICA_INSTANCE_CLASS=db.t3.small

# REQUIRED: ElastiCache Configuration
ELASTICACHE_CLUSTER_ID=bmad-studio-redis
ELASTICACHE_NODE_TYPE=cache.t3.medium
ELASTICACHE_NUM_NODES=3

# REQUIRED: S3 Backup Configuration
S3_BACKUP_BUCKET=bmad-studio-db-backups-prod
S3_BACKUP_REGION=us-east-1
S3_BACKUP_ACCESS_KEY=your_backup_s3_access_key
S3_BACKUP_SECRET_KEY=your_backup_s3_secret_key

# OPTIONAL: CloudWatch Configuration
CLOUDWATCH_LOG_GROUP=/aws/bmad-studio/application
CLOUDWATCH_RETENTION_DAYS=30

# OPTIONAL: KMS Configuration
KMS_KEY_ID=arn:aws:kms:us-east-1:123456789012:key/12345678-1234-1234-1234-123456789012
DATABASE_ENCRYPTION_KEY=your_32_character_encryption_key_here

# =============================================================================
# HASHICORP VAULT CONFIGURATION
# =============================================================================

# REQUIRED: Vault connection
VAULT_ADDR=https://vault.bmadstudio.com:8200
VAULT_TOKEN=hvs.CAESIB1JliweHcNjFOuJdVW96rVrRvV4pVUvVSJRJk_h1RNcGh4KHGh2cy41dVRYblFOYm9IM3l4OW
VAULT_NAMESPACE=vault-system

# OPTIONAL: Vault authentication
VAULT_ROLE=bmad-studio-role
VAULT_MOUNT_PATH=secret/bmad-studio
VAULT_AUTH_METHOD=kubernetes

# OPTIONAL: Vault TLS Configuration
VAULT_CACERT=/etc/vault/tls/ca.crt
VAULT_CLIENT_CERT=/etc/vault/tls/client.crt
VAULT_CLIENT_KEY=/etc/vault/tls/client.key
VAULT_SKIP_VERIFY=false

# OPTIONAL: Vault tokens and TTL
VAULT_TOKEN_TTL=4h
VAULT_MAX_TTL=24h
VAULT_RENEW_TOKEN=true

# OPTIONAL: Vault GitHub Token (for CI/CD)
VAULT_GITHUB_TOKEN=ghp_1234567890abcdefghijklmnopqrstuvwxyz12

# =============================================================================
# MONITORING CONFIGURATION - PROMETHEUS
# =============================================================================

# REQUIRED: Prometheus configuration
PROMETHEUS_URL=http://prometheus.bmadstudio.com:9090
PROMETHEUS_RETENTION=30d
PROMETHEUS_SCRAPE_INTERVAL=15s
PROMETHEUS_METRICS_PASSWORD=your_prometheus_password_here

# OPTIONAL: Prometheus exporters
POSTGRES_EXPORTER_PORT=9187
REDIS_EXPORTER_PORT=9121
NODE_EXPORTER_PORT=9100
BLACKBOX_EXPORTER_PORT=9115

# OPTIONAL: Prometheus storage
PROMETHEUS_STORAGE_PATH=/var/lib/prometheus
PROMETHEUS_STORAGE_RETENTION_SIZE=50GB

# =============================================================================
# MONITORING CONFIGURATION - GRAFANA
# =============================================================================

# REQUIRED: Grafana configuration
GRAFANA_URL=http://grafana.bmadstudio.com:3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=your_secure_grafana_password_here

# OPTIONAL: Grafana database
GRAFANA_DATABASE_TYPE=postgres
GRAFANA_DATABASE_HOST=localhost:5432
GRAFANA_DATABASE_NAME=grafana
GRAFANA_DATABASE_USER=grafana
GRAFANA_DATABASE_PASSWORD=your_grafana_db_password_here

# OPTIONAL: Grafana security
GRAFANA_SECRET_KEY=your_grafana_secret_key_here
GRAFANA_COOKIE_SAMESITE=strict
GRAFANA_COOKIE_SECURE=true

# =============================================================================
# ALERTING CONFIGURATION - ALERTMANAGER
# =============================================================================

# REQUIRED: AlertManager configuration
ALERTMANAGER_URL=http://alertmanager.bmadstudio.com:9093

# REQUIRED: SMTP configuration for alerts
ALERTMANAGER_SMTP_HOST=smtp.gmail.com
ALERTMANAGER_SMTP_PORT=587
ALERTMANAGER_SMTP_USER=alerts@bmadstudio.com
ALERTMANAGER_SMTP_PASSWORD=your_smtp_app_password_here
ALERTMANAGER_SMTP_FROM=alerts@bmadstudio.com

# REQUIRED: Slack notifications
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXXXXXXXXXXXXXXXXXX
SLACK_CHANNEL=#database-alerts
SLACK_USERNAME=BMAD-Monitor

# OPTIONAL: Email notifications
ALERT_EMAIL_TO=devops@bmadstudio.com,admin@bmadstudio.com
ALERT_EMAIL_SUBJECT_PREFIX=[BMAD-ALERT]

# =============================================================================
# CI/CD CONFIGURATION - GITHUB ACTIONS
# =============================================================================

# REQUIRED: Docker registry
DOCKER_REGISTRY=bmad-studio
DOCKER_USERNAME=bmad-studio-ci
DOCKER_PASSWORD=your_docker_registry_password_here

# REQUIRED: Kubernetes
K8S_CLUSTER=bmad-studio-cluster
KUBE_CONFIG_DATA=base64_encoded_kubeconfig_content_here
K8S_NAMESPACE=bmad-studio

# OPTIONAL: GitHub
GITHUB_TOKEN=ghp_1234567890abcdefghijklmnopqrstuvwxyz12
GITHUB_WEBHOOK_SECRET=your_github_webhook_secret_here

# OPTIONAL: Build and deployment
BUILD_NUMBER=${GITHUB_RUN_NUMBER:-1}
GIT_COMMIT=${GITHUB_SHA:-unknown}
GIT_BRANCH=${GITHUB_REF_NAME:-main}

# =============================================================================
# APPLICATION SECURITY CONFIGURATION
# =============================================================================

# REQUIRED: JWT Configuration
JWT_SECRET=your_jwt_secret_key_minimum_32_characters_long
JWT_EXPIRES_IN=24h
JWT_REFRESH_SECRET=your_jwt_refresh_secret_key_minimum_32_characters
JWT_REFRESH_EXPIRES_IN=7d

# REQUIRED: API Security
API_KEY=your_api_key_here
API_SECRET=your_api_secret_here
API_RATE_LIMIT=1000
API_RATE_LIMIT_WINDOW=3600

# REQUIRED: Encryption keys
ENCRYPTION_KEY=your_32_byte_encryption_key_here_exactly
HASH_SECRET=your_hash_secret_for_passwords_minimum_32_chars

# OPTIONAL: Session configuration
SESSION_SECRET=your_session_secret_minimum_32_characters_long
SESSION_TIMEOUT=3600
COOKIE_SECRET=your_cookie_secret_minimum_32_characters_long

# OPTIONAL: CORS configuration
CORS_ORIGIN=https://app.bmadstudio.com,https://admin.bmadstudio.com
CORS_METHODS=GET,POST,PUT,DELETE,PATCH
CORS_CREDENTIALS=true

# =============================================================================
# THIRD-PARTY INTEGRATIONS
# =============================================================================

# OPTIONAL: Stripe Payment Integration
STRIPE_PUBLISHABLE_KEY=pk_test_1234567890abcdefghijklmnopqrstuvwxyz
STRIPE_SECRET_KEY=sk_test_1234567890abcdefghijklmnopqrstuvwxyz
STRIPE_WEBHOOK_SECRET=whsec_1234567890abcdefghijklmnopqrstuvwxyz

# OPTIONAL: SendGrid Email Service
SENDGRID_API_KEY=SG.1234567890abcdefghijklmnopqrstuvwxyz
SENDGRID_FROM_EMAIL=noreply@bmadstudio.com
SENDGRID_FROM_NAME=BMAD Studio

# OPTIONAL: Twilio SMS Service
TWILIO_ACCOUNT_SID=AC1234567890abcdefghijklmnopqrstuvwxyz
TWILIO_AUTH_TOKEN=1234567890abcdefghijklmnopqrstuvwxyz
TWILIO_FROM_PHONE=+1234567890

# OPTIONAL: OAuth Providers
GOOGLE_CLIENT_ID=123456789012-abcdefghijklmnopqrstuvwxyz.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-1234567890abcdefghijklmnopqrs
GITHUB_CLIENT_ID=1234567890abcdefghij
GITHUB_CLIENT_SECRET=1234567890abcdefghijklmnopqrstuvwxyz123456

# =============================================================================
# BACKUP AND DISASTER RECOVERY
# =============================================================================

# REQUIRED: Backup configuration
BACKUP_DIR=/var/backups/bmad-studio
BACKUP_RETENTION_DAYS=30
BACKUP_COMPRESSION=gzip

# OPTIONAL: Automated backup scheduling
BACKUP_SCHEDULE_FULL=0 2 * * 0
BACKUP_SCHEDULE_INCREMENTAL=0 3 * * 1-6
BACKUP_NOTIFICATION_EMAIL=devops@bmadstudio.com

# OPTIONAL: Disaster recovery
DR_REGION=us-west-2
DR_S3_BUCKET=bmad-studio-dr-backups
DR_RDS_INSTANCE=bmad-studio-postgresql-dr

# =============================================================================
# LOGGING CONFIGURATION - ELK STACK
# =============================================================================

# OPTIONAL: Elasticsearch configuration
ELASTICSEARCH_URL=http://elasticsearch.bmadstudio.com:9200
ELASTICSEARCH_USERNAME=elastic
ELASTICSEARCH_PASSWORD=your_elasticsearch_password_here

# OPTIONAL: Kibana configuration
KIBANA_URL=http://kibana.bmadstudio.com:5601
KIBANA_USERNAME=kibana
KIBANA_PASSWORD=your_kibana_password_here

# OPTIONAL: Logstash configuration
LOGSTASH_HOST=logstash.bmadstudio.com
LOGSTASH_PORT=5044

# OPTIONAL: Fluentd configuration
FLUENTD_HOST=fluentd.bmadstudio.com
FLUENTD_PORT=24224

# =============================================================================
# NETWORK AND SECURITY CONFIGURATION
# =============================================================================

# REQUIRED: Network security
ALLOWED_CIDR_BLOCKS=10.0.0.0/8,172.16.0.0/12,192.168.0.0/16
VPN_CIDR_BLOCK=192.168.100.0/24
BASTION_HOST=bastion.bmadstudio.com

# OPTIONAL: SSL/TLS Configuration
SSL_CERT_PATH=/etc/ssl/certs/bmad-studio.crt
SSL_KEY_PATH=/etc/ssl/private/bmad-studio.key
SSL_CA_PATH=/etc/ssl/certs/ca.crt
TLS_MIN_VERSION=1.2

# OPTIONAL: Firewall and security groups
SECURITY_GROUP_WEB=sg-0123456789abcdef0
SECURITY_GROUP_DB=sg-0123456789abcdef1
SECURITY_GROUP_CACHE=sg-0123456789abcdef2

# =============================================================================
# DEVELOPMENT AND TESTING CONFIGURATION
# =============================================================================

# OPTIONAL: Development mode settings
DEVELOPMENT_MODE=false
DEBUG_MODE=false
VERBOSE_LOGGING=false

# OPTIONAL: Test database configuration
TEST_POSTGRES_DB=bmad_studio_test
TEST_REDIS_DB=1
TEST_DATABASE_URL=postgresql://bmad_admin:password@localhost:5432/bmad_studio_test

# OPTIONAL: Hot reload and development tools
HOT_RELOAD=false
AUTO_RESTART=false
FILE_WATCHER=false

# =============================================================================
# PERFORMANCE AND OPTIMIZATION
# =============================================================================

# OPTIONAL: Application performance
MAX_CONCURRENT_REQUESTS=1000
REQUEST_TIMEOUT=30000
WORKER_PROCESSES=4
WORKER_CONNECTIONS=1024

# OPTIONAL: Caching configuration
CACHE_TTL=3600
CACHE_MAX_SIZE=100MB
CACHE_STRATEGY=LRU

# OPTIONAL: Database performance
DB_POOL_SIZE=20
DB_POOL_TIMEOUT=10000
DB_QUERY_TIMEOUT=30000
DB_CONNECTION_LIMIT=100

# =============================================================================
# HEALTH CHECK AND MONITORING
# =============================================================================

# REQUIRED: Health check configuration
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_ENDPOINT=/health

# OPTIONAL: Service monitoring
SERVICE_CHECK_POSTGRES=SELECT 1
SERVICE_CHECK_REDIS=PING
SERVICE_CHECK_ELASTICSEARCH=GET /_cluster/health

# =============================================================================
# MIGRATION AND SCHEMA MANAGEMENT
# =============================================================================

# OPTIONAL: Migration settings
MIGRATION_AUTO_RUN=false
MIGRATION_TIMEOUT=300s
MIGRATION_ROLLBACK_ENABLED=true
SCHEMA_VERSION_TABLE=schema_versions
MIGRATION_LOCK_TIMEOUT=60s

# =============================================================================
# LOGGING LEVELS AND RETENTION
# =============================================================================

# OPTIONAL: Application logging
APP_LOG_LEVEL=info
DATABASE_LOG_LEVEL=notice
REDIS_LOG_LEVEL=notice
SYSTEM_LOG_LEVEL=info

# OPTIONAL: Log retention and rotation
LOG_RETENTION_DAYS=90
LOG_MAX_SIZE=100MB
LOG_MAX_FILES=10
LOG_ROTATION=daily

# =============================================================================
# FEATURE FLAGS AND TOGGLES
# =============================================================================

# OPTIONAL: Feature flags
FEATURE_ANALYTICS=true
FEATURE_TELEMETRY=true
FEATURE_DARK_MODE=true
FEATURE_BETA_FEATURES=false
FEATURE_MAINTENANCE_MODE=false

# =============================================================================
# TIMEZONE AND LOCALIZATION
# =============================================================================

# OPTIONAL: Application settings
TIMEZONE=UTC
LOCALE=en-US
DATE_FORMAT=YYYY-MM-DD
TIME_FORMAT=24h
CURRENCY=USD

# =============================================================================
# CONTACT AND SUPPORT
# =============================================================================

# OPTIONAL: Contact information
SUPPORT_EMAIL=support@bmadstudio.com
ADMIN_EMAIL=admin@bmadstudio.com
DEVOPS_EMAIL=devops@bmadstudio.com
SECURITY_EMAIL=security@bmadstudio.com

# =============================================================================
# END OF CONFIGURATION
# =============================================================================
# 
# QUICK REFERENCE:
# - REQUIRED variables must be set for the application to work
# - OPTIONAL variables have sensible defaults or are feature-specific
# - Replace all example values with your actual credentials
# - Use strong passwords and keys (minimum 32 characters for secrets)
# - Enable all security features in production
# - Regularly rotate secrets and passwords
# - Monitor logs for security events
# 
# For detailed configuration guide, see: CONFIG-GUIDE.md
# =============================================================================